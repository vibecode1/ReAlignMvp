{
  "id": "f0a6cb50-2522-4866-8ae0-5abbd75bd2bb",
  "prevId": "7895d6d1-a378-48ec-80bd-dcceb1b7dbcb",
  "version": "7",
  "dialect": "postgresql",
  "tables": {
    "public.conversational_intake_sessions": {
      "name": "conversational_intake_sessions",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "user_id": {
          "name": "user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "transaction_id": {
          "name": "transaction_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "session_status": {
          "name": "session_status",
          "type": "conversational_intake_status",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'not_started'"
        },
        "current_step": {
          "name": "current_step",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "conversation_history": {
          "name": "conversation_history",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "extracted_form_data": {
          "name": "extracted_form_data",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "confidence_scores": {
          "name": "confidence_scores",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "context_recipe_used": {
          "name": "context_recipe_used",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "ai_personality_settings": {
          "name": "ai_personality_settings",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "uba_fields_completed": {
          "name": "uba_fields_completed",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'"
        },
        "validation_pending": {
          "name": "validation_pending",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "conversational_intake_sessions_user_id_users_id_fk": {
          "name": "conversational_intake_sessions_user_id_users_id_fk",
          "tableFrom": "conversational_intake_sessions",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "conversational_intake_sessions_transaction_id_transactions_id_fk": {
          "name": "conversational_intake_sessions_transaction_id_transactions_id_fk",
          "tableFrom": "conversational_intake_sessions",
          "tableTo": "transactions",
          "columnsFrom": [
            "transaction_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.document_requests": {
      "name": "document_requests",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "transaction_id": {
          "name": "transaction_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "document_name": {
          "name": "document_name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "assigned_party_role": {
          "name": "assigned_party_role",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "document_status",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'pending'"
        },
        "requested_at": {
          "name": "requested_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "completed_at": {
          "name": "completed_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "due_date": {
          "name": "due_date",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {},
      "foreignKeys": {
        "document_requests_transaction_id_transactions_id_fk": {
          "name": "document_requests_transaction_id_transactions_id_fk",
          "tableFrom": "document_requests",
          "tableTo": "transactions",
          "columnsFrom": [
            "transaction_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.email_subscriptions": {
      "name": "email_subscriptions",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "transaction_id": {
          "name": "transaction_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "party_email": {
          "name": "party_email",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "party_role": {
          "name": "party_role",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "is_subscribed": {
          "name": "is_subscribed",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "magic_link_token": {
          "name": "magic_link_token",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "token_expires_at": {
          "name": "token_expires_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "email_subscriptions_transaction_id_transactions_id_fk": {
          "name": "email_subscriptions_transaction_id_transactions_id_fk",
          "tableFrom": "email_subscriptions",
          "tableTo": "transactions",
          "columnsFrom": [
            "transaction_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "email_subscriptions_magic_link_token_unique": {
          "name": "email_subscriptions_magic_link_token_unique",
          "nullsNotDistinct": false,
          "columns": [
            "magic_link_token"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.loe_drafts": {
      "name": "loe_drafts",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "transaction_id": {
          "name": "transaction_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "uba_form_data_id": {
          "name": "uba_form_data_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "created_by_user_id": {
          "name": "created_by_user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "template_type": {
          "name": "template_type",
          "type": "loe_template_type",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "custom_template_name": {
          "name": "custom_template_name",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "letter_title": {
          "name": "letter_title",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'Letter of Explanation'"
        },
        "letter_content": {
          "name": "letter_content",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "ai_generated": {
          "name": "ai_generated",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "ai_model_used": {
          "name": "ai_model_used",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "ai_prompt_used": {
          "name": "ai_prompt_used",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "ai_confidence_score": {
          "name": "ai_confidence_score",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "loe_status",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'draft'"
        },
        "current_version": {
          "name": "current_version",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 1
        },
        "last_exported_at": {
          "name": "last_exported_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "export_formats": {
          "name": "export_formats",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "loe_drafts_transaction_idx": {
          "name": "loe_drafts_transaction_idx",
          "columns": [
            {
              "expression": "transaction_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "loe_drafts_status_idx": {
          "name": "loe_drafts_status_idx",
          "columns": [
            {
              "expression": "status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "loe_drafts_created_by_idx": {
          "name": "loe_drafts_created_by_idx",
          "columns": [
            {
              "expression": "created_by_user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "loe_drafts_transaction_id_transactions_id_fk": {
          "name": "loe_drafts_transaction_id_transactions_id_fk",
          "tableFrom": "loe_drafts",
          "tableTo": "transactions",
          "columnsFrom": [
            "transaction_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "loe_drafts_uba_form_data_id_uba_form_data_id_fk": {
          "name": "loe_drafts_uba_form_data_id_uba_form_data_id_fk",
          "tableFrom": "loe_drafts",
          "tableTo": "uba_form_data",
          "columnsFrom": [
            "uba_form_data_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        },
        "loe_drafts_created_by_user_id_users_id_fk": {
          "name": "loe_drafts_created_by_user_id_users_id_fk",
          "tableFrom": "loe_drafts",
          "tableTo": "users",
          "columnsFrom": [
            "created_by_user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.loe_templates": {
      "name": "loe_templates",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "template_type": {
          "name": "template_type",
          "type": "loe_template_type",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "template_name": {
          "name": "template_name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "template_description": {
          "name": "template_description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "template_content": {
          "name": "template_content",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "placeholder_mappings": {
          "name": "placeholder_mappings",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "usage_count": {
          "name": "usage_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "success_rate": {
          "name": "success_rate",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "created_by_user_id": {
          "name": "created_by_user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "loe_templates_type_idx": {
          "name": "loe_templates_type_idx",
          "columns": [
            {
              "expression": "template_type",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "loe_templates_created_by_user_id_users_id_fk": {
          "name": "loe_templates_created_by_user_id_users_id_fk",
          "tableFrom": "loe_templates",
          "tableTo": "users",
          "columnsFrom": [
            "created_by_user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.loe_versions": {
      "name": "loe_versions",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "loe_draft_id": {
          "name": "loe_draft_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "version_number": {
          "name": "version_number",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "letter_content": {
          "name": "letter_content",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "change_summary": {
          "name": "change_summary",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "edited_by_user_id": {
          "name": "edited_by_user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "ai_assisted_edit": {
          "name": "ai_assisted_edit",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "ai_suggestions_applied": {
          "name": "ai_suggestions_applied",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "loe_versions_draft_idx": {
          "name": "loe_versions_draft_idx",
          "columns": [
            {
              "expression": "loe_draft_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "loe_versions_unique_idx": {
          "name": "loe_versions_unique_idx",
          "columns": [
            {
              "expression": "loe_draft_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "version_number",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": true,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "loe_versions_loe_draft_id_loe_drafts_id_fk": {
          "name": "loe_versions_loe_draft_id_loe_drafts_id_fk",
          "tableFrom": "loe_versions",
          "tableTo": "loe_drafts",
          "columnsFrom": [
            "loe_draft_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "loe_versions_edited_by_user_id_users_id_fk": {
          "name": "loe_versions_edited_by_user_id_users_id_fk",
          "tableFrom": "loe_versions",
          "tableTo": "users",
          "columnsFrom": [
            "edited_by_user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.messages": {
      "name": "messages",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "transaction_id": {
          "name": "transaction_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "sender_id": {
          "name": "sender_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "text": {
          "name": "text",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "reply_to": {
          "name": "reply_to",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "is_seed_message": {
          "name": "is_seed_message",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "messages_transaction_id_transactions_id_fk": {
          "name": "messages_transaction_id_transactions_id_fk",
          "tableFrom": "messages",
          "tableTo": "transactions",
          "columnsFrom": [
            "transaction_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "messages_sender_id_users_id_fk": {
          "name": "messages_sender_id_users_id_fk",
          "tableFrom": "messages",
          "tableTo": "users",
          "columnsFrom": [
            "sender_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.tracker_notes": {
      "name": "tracker_notes",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "transaction_id": {
          "name": "transaction_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "note_text": {
          "name": "note_text",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "negotiator_id": {
          "name": "negotiator_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "tracker_notes_transaction_id_transactions_id_fk": {
          "name": "tracker_notes_transaction_id_transactions_id_fk",
          "tableFrom": "tracker_notes",
          "tableTo": "transactions",
          "columnsFrom": [
            "transaction_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "tracker_notes_negotiator_id_users_id_fk": {
          "name": "tracker_notes_negotiator_id_users_id_fk",
          "tableFrom": "tracker_notes",
          "tableTo": "users",
          "columnsFrom": [
            "negotiator_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.transaction_participants": {
      "name": "transaction_participants",
      "schema": "",
      "columns": {
        "transaction_id": {
          "name": "transaction_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "user_id": {
          "name": "user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "role_in_transaction": {
          "name": "role_in_transaction",
          "type": "user_role",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "party_status",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'pending'"
        },
        "last_action": {
          "name": "last_action",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "welcome_email_sent": {
          "name": "welcome_email_sent",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "transaction_participants_pk": {
          "name": "transaction_participants_pk",
          "columns": [
            {
              "expression": "transaction_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "role_in_transaction",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": true,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "transaction_participants_transaction_id_transactions_id_fk": {
          "name": "transaction_participants_transaction_id_transactions_id_fk",
          "tableFrom": "transaction_participants",
          "tableTo": "transactions",
          "columnsFrom": [
            "transaction_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "transaction_participants_user_id_users_id_fk": {
          "name": "transaction_participants_user_id_users_id_fk",
          "tableFrom": "transaction_participants",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.transaction_phase_history": {
      "name": "transaction_phase_history",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "transaction_id": {
          "name": "transaction_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "phase_key": {
          "name": "phase_key",
          "type": "transaction_phase",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "set_by_negotiator_id": {
          "name": "set_by_negotiator_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "timestamp": {
          "name": "timestamp",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "transaction_phase_history_transaction_id_transactions_id_fk": {
          "name": "transaction_phase_history_transaction_id_transactions_id_fk",
          "tableFrom": "transaction_phase_history",
          "tableTo": "transactions",
          "columnsFrom": [
            "transaction_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "transaction_phase_history_set_by_negotiator_id_users_id_fk": {
          "name": "transaction_phase_history_set_by_negotiator_id_users_id_fk",
          "tableFrom": "transaction_phase_history",
          "tableTo": "users",
          "columnsFrom": [
            "set_by_negotiator_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.transactions": {
      "name": "transactions",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "title": {
          "name": "title",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "property_address": {
          "name": "property_address",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "current_phase": {
          "name": "current_phase",
          "type": "transaction_phase",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'Transaction Initiated'"
        },
        "negotiator_id": {
          "name": "negotiator_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "welcome_email_body": {
          "name": "welcome_email_body",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "transactions_negotiator_id_users_id_fk": {
          "name": "transactions_negotiator_id_users_id_fk",
          "tableFrom": "transactions",
          "tableTo": "users",
          "columnsFrom": [
            "negotiator_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.uba_document_attachments": {
      "name": "uba_document_attachments",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "uba_form_data_id": {
          "name": "uba_form_data_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "document_type": {
          "name": "document_type",
          "type": "uba_document_type",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "required_by_uba": {
          "name": "required_by_uba",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "document_title": {
          "name": "document_title",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "file_url": {
          "name": "file_url",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "file_name": {
          "name": "file_name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "file_size_bytes": {
          "name": "file_size_bytes",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "content_type": {
          "name": "content_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "processing_status": {
          "name": "processing_status",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'pending'"
        },
        "extraction_confidence": {
          "name": "extraction_confidence",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "extracted_data": {
          "name": "extracted_data",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "uba_compliance_check": {
          "name": "uba_compliance_check",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "meets_uba_requirements": {
          "name": "meets_uba_requirements",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false
        },
        "uploaded_at": {
          "name": "uploaded_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "uba_document_attachments_uba_form_data_id_uba_form_data_id_fk": {
          "name": "uba_document_attachments_uba_form_data_id_uba_form_data_id_fk",
          "tableFrom": "uba_document_attachments",
          "tableTo": "uba_form_data",
          "columnsFrom": [
            "uba_form_data_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.uba_form_data": {
      "name": "uba_form_data",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "transaction_id": {
          "name": "transaction_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "user_id": {
          "name": "user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "borrower_name": {
          "name": "borrower_name",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "borrower_ssn": {
          "name": "borrower_ssn",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "property_address": {
          "name": "property_address",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "loan_number": {
          "name": "loan_number",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "monthly_gross_income": {
          "name": "monthly_gross_income",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "monthly_expenses": {
          "name": "monthly_expenses",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "liquid_assets": {
          "name": "liquid_assets",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "total_debt": {
          "name": "total_debt",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "hardship_type": {
          "name": "hardship_type",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "hardship_date": {
          "name": "hardship_date",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "hardship_description": {
          "name": "hardship_description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "hardship_duration_expected": {
          "name": "hardship_duration_expected",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "assistance_type_requested": {
          "name": "assistance_type_requested",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'"
        },
        "preferred_payment_amount": {
          "name": "preferred_payment_amount",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "form_completion_percentage": {
          "name": "form_completion_percentage",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "last_section_completed": {
          "name": "last_section_completed",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "validation_errors": {
          "name": "validation_errors",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "ai_generated_suggestions": {
          "name": "ai_generated_suggestions",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "ai_confidence_scores": {
          "name": "ai_confidence_scores",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "uba_form_data_transaction_user_idx": {
          "name": "uba_form_data_transaction_user_idx",
          "columns": [
            {
              "expression": "transaction_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": true,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "uba_form_data_transaction_id_transactions_id_fk": {
          "name": "uba_form_data_transaction_id_transactions_id_fk",
          "tableFrom": "uba_form_data",
          "tableTo": "transactions",
          "columnsFrom": [
            "transaction_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "uba_form_data_user_id_users_id_fk": {
          "name": "uba_form_data_user_id_users_id_fk",
          "tableFrom": "uba_form_data",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.uploads": {
      "name": "uploads",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "transaction_id": {
          "name": "transaction_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "uploaded_by_user_id": {
          "name": "uploaded_by_user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "document_request_id": {
          "name": "document_request_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "doc_type": {
          "name": "doc_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "file_name": {
          "name": "file_name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "file_url": {
          "name": "file_url",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "content_type": {
          "name": "content_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "size_bytes": {
          "name": "size_bytes",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "visibility": {
          "name": "visibility",
          "type": "visibility",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'private'"
        },
        "uploaded_at": {
          "name": "uploaded_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "uploads_transaction_id_transactions_id_fk": {
          "name": "uploads_transaction_id_transactions_id_fk",
          "tableFrom": "uploads",
          "tableTo": "transactions",
          "columnsFrom": [
            "transaction_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "uploads_uploaded_by_user_id_users_id_fk": {
          "name": "uploads_uploaded_by_user_id_users_id_fk",
          "tableFrom": "uploads",
          "tableTo": "users",
          "columnsFrom": [
            "uploaded_by_user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        },
        "uploads_document_request_id_document_requests_id_fk": {
          "name": "uploads_document_request_id_document_requests_id_fk",
          "tableFrom": "uploads",
          "tableTo": "document_requests",
          "columnsFrom": [
            "document_request_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.user_context_profiles": {
      "name": "user_context_profiles",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "user_id": {
          "name": "user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "transaction_id": {
          "name": "transaction_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "preferred_ai_communication_style": {
          "name": "preferred_ai_communication_style",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'professional'"
        },
        "ai_assistance_level": {
          "name": "ai_assistance_level",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'balanced'"
        },
        "active_context_recipes": {
          "name": "active_context_recipes",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'"
        },
        "context_recipe_customizations": {
          "name": "context_recipe_customizations",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "uba_completion_patterns": {
          "name": "uba_completion_patterns",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "frequent_form_sections": {
          "name": "frequent_form_sections",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'"
        },
        "notification_preferences": {
          "name": "notification_preferences",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "workflow_step_preferences": {
          "name": "workflow_step_preferences",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "ai_interaction_history": {
          "name": "ai_interaction_history",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "form_completion_velocity": {
          "name": "form_completion_velocity",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "error_patterns": {
          "name": "error_patterns",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "user_context_profile_user_transaction_idx": {
          "name": "user_context_profile_user_transaction_idx",
          "columns": [
            {
              "expression": "user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "transaction_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": true,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "user_context_profiles_user_id_users_id_fk": {
          "name": "user_context_profiles_user_id_users_id_fk",
          "tableFrom": "user_context_profiles",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "user_context_profiles_transaction_id_transactions_id_fk": {
          "name": "user_context_profiles_transaction_id_transactions_id_fk",
          "tableFrom": "user_context_profiles",
          "tableTo": "transactions",
          "columnsFrom": [
            "transaction_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.user_device_tokens": {
      "name": "user_device_tokens",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "user_id": {
          "name": "user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "device_token": {
          "name": "device_token",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "token_type": {
          "name": "token_type",
          "type": "device_token_type",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "user_device_tokens_user_id_users_id_fk": {
          "name": "user_device_tokens_user_id_users_id_fk",
          "tableFrom": "user_device_tokens",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "user_device_tokens_device_token_unique": {
          "name": "user_device_tokens_device_token_unique",
          "nullsNotDistinct": false,
          "columns": [
            "device_token"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.users": {
      "name": "users",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "email": {
          "name": "email",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "phone": {
          "name": "phone",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "role": {
          "name": "role",
          "type": "user_role",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "users_email_unique": {
          "name": "users_email_unique",
          "nullsNotDistinct": false,
          "columns": [
            "email"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.workflow_events": {
      "name": "workflow_events",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "event_type": {
          "name": "event_type",
          "type": "workflow_event_type",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "event_severity": {
          "name": "event_severity",
          "type": "workflow_event_severity",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'info'"
        },
        "event_category": {
          "name": "event_category",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "user_id": {
          "name": "user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "transaction_id": {
          "name": "transaction_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "session_id": {
          "name": "session_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "event_name": {
          "name": "event_name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "event_description": {
          "name": "event_description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "event_metadata": {
          "name": "event_metadata",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "context_recipe_id": {
          "name": "context_recipe_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "ai_model_used": {
          "name": "ai_model_used",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "ai_prompt_tokens": {
          "name": "ai_prompt_tokens",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "ai_completion_tokens": {
          "name": "ai_completion_tokens",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "execution_time_ms": {
          "name": "execution_time_ms",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "error_details": {
          "name": "error_details",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "success_indicator": {
          "name": "success_indicator",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "uba_form_section": {
          "name": "uba_form_section",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "uba_field_id": {
          "name": "uba_field_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "uba_validation_result": {
          "name": "uba_validation_result",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "timestamp": {
          "name": "timestamp",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "workflow_events_user_timestamp_idx": {
          "name": "workflow_events_user_timestamp_idx",
          "columns": [
            {
              "expression": "user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "timestamp",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "workflow_events_transaction_timestamp_idx": {
          "name": "workflow_events_transaction_timestamp_idx",
          "columns": [
            {
              "expression": "transaction_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "timestamp",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "workflow_events_type_timestamp_idx": {
          "name": "workflow_events_type_timestamp_idx",
          "columns": [
            {
              "expression": "event_type",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "timestamp",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "workflow_events_session_timestamp_idx": {
          "name": "workflow_events_session_timestamp_idx",
          "columns": [
            {
              "expression": "session_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "timestamp",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "workflow_events_user_id_users_id_fk": {
          "name": "workflow_events_user_id_users_id_fk",
          "tableFrom": "workflow_events",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        },
        "workflow_events_transaction_id_transactions_id_fk": {
          "name": "workflow_events_transaction_id_transactions_id_fk",
          "tableFrom": "workflow_events",
          "tableTo": "transactions",
          "columnsFrom": [
            "transaction_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    }
  },
  "enums": {
    "public.context_recipe_type": {
      "name": "context_recipe_type",
      "schema": "public",
      "values": [
        "uba_form_completion",
        "bfs_document_review",
        "hardship_analysis",
        "property_valuation"
      ]
    },
    "public.conversational_intake_status": {
      "name": "conversational_intake_status",
      "schema": "public",
      "values": [
        "not_started",
        "in_progress",
        "completed",
        "validated"
      ]
    },
    "public.device_token_type": {
      "name": "device_token_type",
      "schema": "public",
      "values": [
        "fcm",
        "apn",
        "web"
      ]
    },
    "public.document_status": {
      "name": "document_status",
      "schema": "public",
      "values": [
        "pending",
        "complete",
        "overdue"
      ]
    },
    "public.loe_status": {
      "name": "loe_status",
      "schema": "public",
      "values": [
        "draft",
        "in_review",
        "approved",
        "sent",
        "archived"
      ]
    },
    "public.loe_template_type": {
      "name": "loe_template_type",
      "schema": "public",
      "values": [
        "unemployment",
        "medical_hardship",
        "divorce_separation",
        "death_of_spouse",
        "income_reduction",
        "business_failure",
        "military_service",
        "natural_disaster",
        "increased_expenses",
        "other_hardship"
      ]
    },
    "public.party_status": {
      "name": "party_status",
      "schema": "public",
      "values": [
        "pending",
        "complete",
        "overdue"
      ]
    },
    "public.transaction_phase": {
      "name": "transaction_phase",
      "schema": "public",
      "values": [
        "Transaction Initiated",
        "Property Listing",
        "Documentation Collection",
        "Hardship Package Submitted",
        "Offer Received",
        "Offer Submitted to Lender",
        "Initial Lender Review",
        "Property Valuation Ordered",
        "Lender Negotiations",
        "Final Approval Received",
        "In Closing"
      ]
    },
    "public.uba_document_type": {
      "name": "uba_document_type",
      "schema": "public",
      "values": [
        "income_verification",
        "hardship_letter",
        "financial_statement",
        "property_documents",
        "correspondence"
      ]
    },
    "public.uba_field_status": {
      "name": "uba_field_status",
      "schema": "public",
      "values": [
        "empty",
        "in_progress",
        "completed",
        "validated",
        "requires_review"
      ]
    },
    "public.user_role": {
      "name": "user_role",
      "schema": "public",
      "values": [
        "negotiator",
        "seller",
        "buyer",
        "listing_agent",
        "buyers_agent",
        "escrow"
      ]
    },
    "public.visibility": {
      "name": "visibility",
      "schema": "public",
      "values": [
        "private",
        "shared"
      ]
    },
    "public.workflow_event_severity": {
      "name": "workflow_event_severity",
      "schema": "public",
      "values": [
        "info",
        "warning",
        "error",
        "critical"
      ]
    },
    "public.workflow_event_type": {
      "name": "workflow_event_type",
      "schema": "public",
      "values": [
        "form_field_filled",
        "document_uploaded",
        "ai_recommendation_generated",
        "validation_performed",
        "user_interaction"
      ]
    }
  },
  "schemas": {},
  "sequences": {},
  "roles": {},
  "policies": {},
  "views": {},
  "_meta": {
    "columns": {},
    "schemas": {},
    "tables": {}
  }
}